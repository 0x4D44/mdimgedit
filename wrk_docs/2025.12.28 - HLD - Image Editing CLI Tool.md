# High-Level Design: mdimgedit - AI-Focused Image Editing CLI Tool

**Date:** 2025-12-28
**Author:** Arthur & Claude
**Status:** Draft

---

## 1. Overview

### 1.1 Purpose

`mdimgedit` is a command-line image editing utility designed for programmatic use by AI systems and automation pipelines. It provides a comprehensive set of image manipulation operations with consistent, predictable behavior and machine-parseable output.

### 1.2 Design Goals

1. **Predictability** - Operations produce consistent, deterministic results
2. **Parseable output** - JSON output mode for integration with AI pipelines
3. **Comprehensive help** - Self-documenting CLI with detailed usage examples
4. **Robustness** - Graceful error handling with informative messages
5. **Testability** - High code coverage (>95%) with comprehensive unit tests
6. **Performance** - Efficient processing suitable for batch operations

### 1.3 Scope

**In Scope:**
- Core image transformations (crop, rotate, flip, scale)
- Format conversion between common image formats
- Color manipulation (depth, grayscale, invert, brightness/contrast)
- Canvas operations (padding, resize)
- Image compositing
- Filters (blur, sharpen)
- Image inspection/metadata

**Out of Scope:**
- Artistic filters and effects
- Text rendering
- Drawing primitives (lines, shapes)
- Animation/GIF frame manipulation
- RAW format processing

---

## 2. Command-Line Interface Design

### 2.1 General Syntax

```
mdimgedit <COMMAND> [OPTIONS] <INPUT> [OUTPUT]
mdimgedit --help
mdimgedit <COMMAND> --help
```

### 2.2 Global Options

| Option | Short | Description |
|--------|-------|-------------|
| `--help` | `-h` | Display help information |
| `--version` | `-V` | Display version information |
| `--json` | `-j` | Output results as JSON (for AI consumption) |
| `--quiet` | `-q` | Suppress non-error output |
| `--overwrite` | `-y` | Overwrite output file without prompting |

### 2.3 Commands Overview

| Command | Description |
|---------|-------------|
| `info` | Display image information (dimensions, format, color depth) |
| `crop` | Crop image to specified region |
| `rotate` | Rotate image by degrees |
| `flip` | Flip image horizontally or vertically |
| `resize` | Resize image to exact dimensions or scale factor |
| `fit` | Resize to fit within bounds preserving aspect ratio |
| `convert` | Convert image format |
| `grayscale` | Convert to grayscale |
| `depth` | Change color bit depth |
| `invert` | Invert image colors |
| `brightness` | Adjust brightness |
| `contrast` | Adjust contrast |
| `gamma` | Adjust gamma |
| `blur` | Apply Gaussian blur |
| `sharpen` | Apply sharpening filter |
| `pad` | Add padding/border around image |
| `canvas` | Resize canvas without scaling content |
| `composite` | Overlay one image onto another |

---

## 3. Command Specifications

### 3.1 info - Image Information

**Purpose:** Extract image metadata for pipeline decision-making.

```
mdimgedit info [OPTIONS] <INPUT>
```

**Options:**
- None specific (uses global options)

**Output (standard):**
```
File: image.png
Format: PNG
Dimensions: 1920x1080
Color Type: RGBA
Bit Depth: 8
File Size: 2.4 MB
```

**Output (JSON):**
```json
{
  "file": "image.png",
  "format": "PNG",
  "width": 1920,
  "height": 1080,
  "color_type": "RGBA",
  "bit_depth": 8,
  "file_size_bytes": 2516582
}
```

---

### 3.2 crop - Crop Image

**Purpose:** Extract a rectangular region from the image.

```
mdimgedit crop [OPTIONS] <INPUT> <OUTPUT>
```

**Options:**
| Option | Description |
|--------|-------------|
| `--x <INT>` | Left edge X coordinate (default: 0) |
| `--y <INT>` | Top edge Y coordinate (default: 0) |
| `--width <INT>` | Width of crop region (required) |
| `--height <INT>` | Height of crop region (required) |
| `--anchor <POS>` | Anchor point: top-left, top-center, top-right, center-left, center, center-right, bottom-left, bottom-center, bottom-right (default: top-left) |

**Examples:**
```bash
# Crop 100x100 region from top-left corner
mdimgedit crop --width 100 --height 100 input.png output.png

# Crop 200x200 region starting at (50, 50)
mdimgedit crop --x 50 --y 50 --width 200 --height 200 input.png output.png

# Crop 500x500 from center of image
mdimgedit crop --width 500 --height 500 --anchor center input.png output.png
```

**Validation:**
- Crop region must be within image bounds
- Width and height must be positive integers

---

### 3.3 rotate - Rotate Image

**Purpose:** Rotate image by specified degrees.

```
mdimgedit rotate [OPTIONS] <INPUT> <OUTPUT>
```

**Options:**
| Option | Description |
|--------|-------------|
| `--degrees <FLOAT>` | Rotation angle in degrees, counter-clockwise (required) |
| `--expand` | Expand canvas to fit rotated image (default: false, clips to original size) |
| `--background <COLOR>` | Background color for expanded areas (default: transparent or black) |

**Examples:**
```bash
# Rotate 90 degrees counter-clockwise
mdimgedit rotate --degrees 90 input.png output.png

# Rotate 45 degrees, expanding canvas
mdimgedit rotate --degrees 45 --expand --background white input.png output.png

# Rotate 180 degrees (equivalent to flip both)
mdimgedit rotate --degrees 180 input.png output.png
```

**Notes:**
- For 90, 180, 270 degree rotations, use lossless pixel remapping
- For arbitrary angles, use bilinear interpolation

---

### 3.4 flip - Flip Image

**Purpose:** Mirror image horizontally or vertically.

```
mdimgedit flip [OPTIONS] <INPUT> <OUTPUT>
```

**Options:**
| Option | Description |
|--------|-------------|
| `--horizontal` / `-H` | Flip horizontally (mirror left-right) |
| `--vertical` / `-V` | Flip vertically (mirror top-bottom) |

**Examples:**
```bash
# Flip horizontally
mdimgedit flip --horizontal input.png output.png

# Flip vertically
mdimgedit flip --vertical input.png output.png

# Flip both (same as 180 degree rotation)
mdimgedit flip --horizontal --vertical input.png output.png
```

**Validation:**
- At least one of `--horizontal` or `--vertical` must be specified

---

### 3.5 resize - Resize Image

**Purpose:** Resize image to exact dimensions or by scale factor.

```
mdimgedit resize [OPTIONS] <INPUT> <OUTPUT>
```

**Options:**
| Option | Description |
|--------|-------------|
| `--width <INT>` | Target width in pixels |
| `--height <INT>` | Target height in pixels |
| `--scale <FLOAT>` | Scale factor (e.g., 0.5 for half size, 2.0 for double) |
| `--filter <FILTER>` | Resampling filter: nearest, linear, cubic, lanczos (default: lanczos) |

**Examples:**
```bash
# Resize to exact dimensions (may change aspect ratio)
mdimgedit resize --width 800 --height 600 input.png output.png

# Resize width only, calculate height to preserve aspect ratio
mdimgedit resize --width 800 input.png output.png

# Scale by factor
mdimgedit resize --scale 0.5 input.png output.png

# Use nearest-neighbor for pixel art
mdimgedit resize --scale 4 --filter nearest input.png output.png
```

**Validation:**
- Must specify either (`--width` and/or `--height`) OR `--scale`, not both
- Dimensions must be positive integers
- Scale must be positive float

---

### 3.6 fit - Fit Within Bounds

**Purpose:** Resize to fit within maximum dimensions while preserving aspect ratio.

```
mdimgedit fit [OPTIONS] <INPUT> <OUTPUT>
```

**Options:**
| Option | Description |
|--------|-------------|
| `--max-width <INT>` | Maximum width constraint |
| `--max-height <INT>` | Maximum height constraint |
| `--upscale` | Allow upscaling if image is smaller than bounds (default: false) |
| `--filter <FILTER>` | Resampling filter: nearest, linear, cubic, lanczos (default: lanczos) |

**Examples:**
```bash
# Fit within 800x600 box, preserving aspect ratio
mdimgedit fit --max-width 800 --max-height 600 input.png output.png

# Fit width only (no height constraint)
mdimgedit fit --max-width 1024 input.png output.png

# Allow upscaling small images
mdimgedit fit --max-width 800 --max-height 600 --upscale input.png output.png
```

**Behavior:**
- Image is scaled down (or up if `--upscale`) to fit within the specified bounds
- Aspect ratio is always preserved
- At least one of `--max-width` or `--max-height` required

---

### 3.7 convert - Convert Format

**Purpose:** Convert image between formats.

```
mdimgedit convert [OPTIONS] <INPUT> <OUTPUT>
```

**Options:**
| Option | Description |
|--------|-------------|
| `--format <FMT>` | Target format (auto-detected from extension if not specified) |
| `--quality <INT>` | Quality for lossy formats (1-100, default: 90) |

**Supported Formats:**
- PNG (lossless, supports transparency)
- JPEG (lossy, no transparency)
- GIF (limited colors, supports transparency)
- BMP (lossless, no transparency)
- TIFF (lossless)
- WebP (lossy or lossless, supports transparency)
- ICO (icon format)

**Examples:**
```bash
# Convert PNG to JPEG (format from extension)
mdimgedit convert input.png output.jpg

# Convert with explicit format
mdimgedit convert --format webp input.png output.webp

# Convert to JPEG with quality setting
mdimgedit convert --quality 85 input.png output.jpg
```

---

### 3.8 grayscale - Convert to Grayscale

**Purpose:** Convert image to grayscale.

```
mdimgedit grayscale [OPTIONS] <INPUT> <OUTPUT>
```

**Options:**
| Option | Description |
|--------|-------------|
| `--preserve-alpha` | Keep alpha channel if present (default: true) |

**Examples:**
```bash
# Convert to grayscale
mdimgedit grayscale input.png output.png

# Convert, discarding alpha
mdimgedit grayscale --preserve-alpha=false input.png output.png
```

---

### 3.9 depth - Change Bit Depth

**Purpose:** Change color bit depth.

```
mdimgedit depth [OPTIONS] <INPUT> <OUTPUT>
```

**Options:**
| Option | Description |
|--------|-------------|
| `--bits <INT>` | Target bit depth per channel: 1, 8, 16 (default: 8) |
| `--dither` | Apply dithering when reducing depth (default: false) |

**Examples:**
```bash
# Convert to 1-bit (black and white)
mdimgedit depth --bits 1 input.png output.png

# Convert to 1-bit with dithering
mdimgedit depth --bits 1 --dither input.png output.png

# Convert to 16-bit
mdimgedit depth --bits 16 input.png output.png
```

---

### 3.10 invert - Invert Colors

**Purpose:** Invert all color values.

```
mdimgedit invert [OPTIONS] <INPUT> <OUTPUT>
```

**Options:**
| Option | Description |
|--------|-------------|
| `--preserve-alpha` | Don't invert alpha channel (default: true) |

**Examples:**
```bash
# Invert colors
mdimgedit invert input.png output.png
```

---

### 3.11 brightness - Adjust Brightness

**Purpose:** Adjust image brightness.

```
mdimgedit brightness [OPTIONS] <INPUT> <OUTPUT>
```

**Options:**
| Option | Description |
|--------|-------------|
| `--value <INT>` | Brightness adjustment (-255 to 255, required) |

**Examples:**
```bash
# Increase brightness
mdimgedit brightness --value 50 input.png output.png

# Decrease brightness
mdimgedit brightness --value -30 input.png output.png
```

---

### 3.12 contrast - Adjust Contrast

**Purpose:** Adjust image contrast.

```
mdimgedit contrast [OPTIONS] <INPUT> <OUTPUT>
```

**Options:**
| Option | Description |
|--------|-------------|
| `--value <FLOAT>` | Contrast multiplier (0.0 to 10.0, 1.0 = no change, required) |

**Examples:**
```bash
# Increase contrast
mdimgedit contrast --value 1.5 input.png output.png

# Decrease contrast
mdimgedit contrast --value 0.8 input.png output.png
```

---

### 3.13 gamma - Adjust Gamma

**Purpose:** Apply gamma correction.

```
mdimgedit gamma [OPTIONS] <INPUT> <OUTPUT>
```

**Options:**
| Option | Description |
|--------|-------------|
| `--value <FLOAT>` | Gamma value (0.1 to 10.0, 1.0 = no change, required) |

**Examples:**
```bash
# Lighten midtones (gamma < 1)
mdimgedit gamma --value 0.7 input.png output.png

# Darken midtones (gamma > 1)
mdimgedit gamma --value 1.5 input.png output.png
```

---

### 3.14 blur - Gaussian Blur

**Purpose:** Apply Gaussian blur filter.

```
mdimgedit blur [OPTIONS] <INPUT> <OUTPUT>
```

**Options:**
| Option | Description |
|--------|-------------|
| `--radius <FLOAT>` | Blur radius in pixels (0.1 to 100.0, required) |

**Examples:**
```bash
# Light blur
mdimgedit blur --radius 2.0 input.png output.png

# Heavy blur
mdimgedit blur --radius 10.0 input.png output.png
```

---

### 3.15 sharpen - Sharpen Image

**Purpose:** Apply sharpening filter.

```
mdimgedit sharpen [OPTIONS] <INPUT> <OUTPUT>
```

**Options:**
| Option | Description |
|--------|-------------|
| `--amount <FLOAT>` | Sharpening strength (0.0 to 10.0, default: 1.0) |
| `--radius <FLOAT>` | Effect radius in pixels (0.1 to 10.0, default: 1.0) |

**Examples:**
```bash
# Default sharpening
mdimgedit sharpen input.png output.png

# Strong sharpening
mdimgedit sharpen --amount 2.0 input.png output.png
```

---

### 3.16 pad - Add Padding

**Purpose:** Add padding/border around image.

```
mdimgedit pad [OPTIONS] <INPUT> <OUTPUT>
```

**Options:**
| Option | Description |
|--------|-------------|
| `--all <INT>` | Padding on all sides |
| `--top <INT>` | Top padding |
| `--bottom <INT>` | Bottom padding |
| `--left <INT>` | Left padding |
| `--right <INT>` | Right padding |
| `--horizontal <INT>` | Left and right padding |
| `--vertical <INT>` | Top and bottom padding |
| `--color <COLOR>` | Padding color (default: transparent or white) |

**Color Formats:**
- Named colors: `white`, `black`, `red`, `green`, `blue`, `transparent`
- Hex: `#RGB`, `#RGBA`, `#RRGGBB`, `#RRGGBBAA`
- RGB: `rgb(255,128,0)`
- RGBA: `rgba(255,128,0,128)`

**Examples:**
```bash
# Add 10px padding on all sides
mdimgedit pad --all 10 input.png output.png

# Add 20px horizontal, 10px vertical padding
mdimgedit pad --horizontal 20 --vertical 10 input.png output.png

# Add red border
mdimgedit pad --all 5 --color red input.png output.png

# Add custom color padding
mdimgedit pad --all 10 --color "#FF5500" input.png output.png
```

---

### 3.17 canvas - Resize Canvas

**Purpose:** Resize canvas without scaling image content.

```
mdimgedit canvas [OPTIONS] <INPUT> <OUTPUT>
```

**Options:**
| Option | Description |
|--------|-------------|
| `--width <INT>` | New canvas width (required) |
| `--height <INT>` | New canvas height (required) |
| `--anchor <POS>` | Position of original image on new canvas (default: center) |
| `--color <COLOR>` | Background color for new canvas areas (default: transparent) |

**Anchor Positions:**
`top-left`, `top-center`, `top-right`, `center-left`, `center`, `center-right`, `bottom-left`, `bottom-center`, `bottom-right`

**Examples:**
```bash
# Extend canvas to 1000x1000, centering original
mdimgedit canvas --width 1000 --height 1000 input.png output.png

# Extend canvas, anchoring original to top-left
mdimgedit canvas --width 1000 --height 1000 --anchor top-left input.png output.png

# Shrink canvas (crops from anchor point)
mdimgedit canvas --width 500 --height 500 --anchor center input.png output.png
```

---

### 3.18 composite - Overlay Images

**Purpose:** Overlay one image onto another.

```
mdimgedit composite [OPTIONS] <BASE> <OVERLAY> <OUTPUT>
```

**Options:**
| Option | Description |
|--------|-------------|
| `--x <INT>` | X position of overlay (default: 0) |
| `--y <INT>` | Y position of overlay (default: 0) |
| `--anchor <POS>` | Anchor point for positioning (default: top-left) |
| `--opacity <FLOAT>` | Overlay opacity (0.0 to 1.0, default: 1.0) |
| `--blend <MODE>` | Blend mode: normal, multiply, screen, overlay (default: normal) |

**Examples:**
```bash
# Overlay at top-left corner
mdimgedit composite base.png overlay.png output.png

# Overlay at specific position
mdimgedit composite --x 100 --y 50 base.png overlay.png output.png

# Center overlay on base
mdimgedit composite --anchor center base.png overlay.png output.png

# Semi-transparent overlay
mdimgedit composite --opacity 0.5 base.png overlay.png output.png
```

---

## 4. Architecture

### 4.1 Module Structure

```
mdimgedit/
├── Cargo.toml
├── src/
│   ├── main.rs              # Entry point, CLI parsing
│   ├── lib.rs               # Library root, re-exports
│   ├── cli/
│   │   ├── mod.rs           # CLI module root
│   │   ├── args.rs          # Argument definitions (clap)
│   │   └── output.rs        # Output formatting (text/JSON)
│   ├── ops/
│   │   ├── mod.rs           # Operations module root
│   │   ├── info.rs          # Image info extraction
│   │   ├── crop.rs          # Crop operation
│   │   ├── rotate.rs        # Rotation operations
│   │   ├── flip.rs          # Flip operations
│   │   ├── resize.rs        # Resize and fit operations
│   │   ├── convert.rs       # Format conversion
│   │   ├── color.rs         # Grayscale, depth, invert
│   │   ├── adjust.rs        # Brightness, contrast, gamma
│   │   ├── filter.rs        # Blur, sharpen
│   │   ├── canvas.rs        # Padding, canvas resize
│   │   └── composite.rs     # Image compositing
│   ├── color.rs             # Color parsing utilities
│   └── error.rs             # Error types
└── tests/
    ├── integration/
    │   └── *.rs             # Integration tests per command
    └── fixtures/
        └── *.png            # Test images
```

### 4.2 Core Dependencies

| Crate | Purpose |
|-------|---------|
| `image` | Core image processing |
| `clap` | Command-line argument parsing |
| `serde` / `serde_json` | JSON output serialization |
| `thiserror` | Error type definitions |
| `imageproc` | Additional image processing (blur, sharpen) |

### 4.3 Error Handling Strategy

All operations return `Result<T, ImgEditError>` where `ImgEditError` is a custom error enum:

```rust
#[derive(Debug, thiserror::Error)]
pub enum ImgEditError {
    #[error("Failed to read image: {0}")]
    ReadError(String),

    #[error("Failed to write image: {0}")]
    WriteError(String),

    #[error("Invalid dimensions: {0}")]
    InvalidDimensions(String),

    #[error("Crop region out of bounds: {0}")]
    CropOutOfBounds(String),

    #[error("Unsupported format: {0}")]
    UnsupportedFormat(String),

    #[error("Invalid color specification: {0}")]
    InvalidColor(String),

    #[error("Invalid parameter: {0}")]
    InvalidParameter(String),

    #[error("IO error: {0}")]
    IoError(#[from] std::io::Error),

    #[error("Image processing error: {0}")]
    ImageError(#[from] image::ImageError),
}
```

### 4.4 JSON Output Schema

All commands support `--json` output. Success responses:

```json
{
  "success": true,
  "command": "crop",
  "input": "input.png",
  "output": "output.png",
  "details": {
    "original_width": 1920,
    "original_height": 1080,
    "result_width": 800,
    "result_height": 600
  }
}
```

Error responses:

```json
{
  "success": false,
  "command": "crop",
  "error": "Crop region out of bounds: region extends beyond image dimensions",
  "code": "CROP_OUT_OF_BOUNDS"
}
```

---

## 5. Testing Strategy

### 5.1 Coverage Goals

- **Overall target:** >95% code coverage
- **Critical paths:** 100% coverage for all operation logic
- **Error paths:** All error conditions must have test cases

### 5.2 Test Categories

#### Unit Tests (in `src/` modules)
- Color parsing functions
- Parameter validation
- Individual operation functions with mock images

#### Integration Tests (in `tests/`)
- Full CLI invocation tests
- File I/O verification
- JSON output validation
- Error message verification

#### Test Fixtures
Small test images (32x32, 64x64) in various formats stored in `tests/fixtures/`:
- `test_rgb.png` - Basic RGB image
- `test_rgba.png` - Image with transparency
- `test_grayscale.png` - Grayscale image
- `test_16bit.png` - 16-bit depth image
- `test_1x1.png` - Minimal image for edge cases
- `test_large.png` - Larger image (256x256) for resize tests

### 5.3 Test Naming Convention

```rust
#[test]
fn test_<operation>_<scenario>_<expected_outcome>() {
    // test_crop_valid_region_succeeds
    // test_crop_out_of_bounds_returns_error
    // test_resize_scale_factor_halves_dimensions
}
```

### 5.4 Coverage Tooling

Using `cargo-llvm-cov`:

```bash
# Install
cargo install cargo-llvm-cov

# Run tests with coverage
cargo llvm-cov --html

# Check coverage threshold
cargo llvm-cov --fail-under-lines 95
```

---

## 6. Implementation Phases

### Phase 1: Foundation
- Project setup with Cargo.toml and dependencies
- CLI argument parsing with clap
- Error types and output formatting
- `info` command (establishes image loading pattern)

### Phase 2: Core Transformations
- `crop` command
- `rotate` command
- `flip` command
- `resize` and `fit` commands

### Phase 3: Format and Color
- `convert` command
- `grayscale` command
- `depth` command
- `invert` command

### Phase 4: Adjustments and Filters
- `brightness` command
- `contrast` command
- `gamma` command
- `blur` command
- `sharpen` command

### Phase 5: Canvas Operations
- `pad` command
- `canvas` command
- `composite` command

### Phase 6: Polish
- Comprehensive help text with examples
- JSON output for all commands
- Final test coverage push to >95%
- Documentation and README

---

## 7. Future Considerations (Out of Scope for v1)

These features are explicitly deferred but may be considered for future versions:

- **Batch processing mode** - Process multiple files with a single command
- **Pipeline mode** - Chain multiple operations without intermediate files
- **Undo/history** - Track operation history for reversibility
- **Preset profiles** - Save common operation combinations
- **EXIF preservation** - Maintain/manipulate metadata
- **Additional formats** - AVIF, HEIC, SVG rasterization
- **GPU acceleration** - For large image processing

---

## 8. Open Questions

1. **Coordinate system:** Should (0,0) be top-left (standard) or bottom-left (mathematical)?
   - **Recommendation:** Top-left, matching image editor conventions

2. **Out-of-bounds behavior for composite:** If overlay extends beyond base image, should we clip or extend canvas?
   - **Recommendation:** Clip by default, with `--extend` option

3. **Default output format:** When converting and output extension is ambiguous, what should we default to?
   - **Recommendation:** Require explicit format or matching input format

---

## Appendix A: Color Format Specification

The color parsing module shall support:

| Format | Example | Description |
|--------|---------|-------------|
| Named | `red`, `blue`, `transparent` | Predefined color names |
| Hex3 | `#RGB` | 4-bit per channel |
| Hex4 | `#RGBA` | 4-bit per channel with alpha |
| Hex6 | `#RRGGBB` | 8-bit per channel |
| Hex8 | `#RRGGBBAA` | 8-bit per channel with alpha |
| RGB | `rgb(R,G,B)` | Decimal 0-255 |
| RGBA | `rgba(R,G,B,A)` | Decimal 0-255 |

Named colors: `black`, `white`, `red`, `green`, `blue`, `yellow`, `cyan`, `magenta`, `transparent`

---

## Appendix B: Exit Codes

| Code | Meaning |
|------|---------|
| 0 | Success |
| 1 | General error (invalid arguments, etc.) |
| 2 | Input file not found or unreadable |
| 3 | Output file could not be written |
| 4 | Unsupported format |
| 5 | Invalid operation parameters |

---

## Appendix C: Example AI Integration

```python
import subprocess
import json

def get_image_info(path: str) -> dict:
    result = subprocess.run(
        ["mdimgedit", "info", "--json", path],
        capture_output=True,
        text=True
    )
    return json.loads(result.stdout)

def resize_for_model(path: str, output: str, max_dim: int = 512) -> dict:
    result = subprocess.run(
        ["mdimgedit", "fit", "--json",
         "--max-width", str(max_dim),
         "--max-height", str(max_dim),
         path, output],
        capture_output=True,
        text=True
    )
    return json.loads(result.stdout)

# Usage
info = get_image_info("input.png")
if info["width"] > 512 or info["height"] > 512:
    resize_for_model("input.png", "resized.png", 512)
```
